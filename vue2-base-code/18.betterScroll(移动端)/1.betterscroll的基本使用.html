<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .wrapper {
      height: 200px;
      overflow: hidden;
      /* background-color: seagreen;
      overflow-y: scroll; */
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <ul class="contetn">
      <span>按钮</span>
      <li>这是一对数据1</li>
      <li>这是一对数据2</li>
      <li>这是一对数据3</li>
      <li>这是一对数据4</li>
      <li>这是一对数据5</li>
      <li>这是一对数据6</li>
      <li>这是一对数据7</li>
      <li>这是一对数据8</li>
      <li>这是一对数据9</li>
      <li>这是一对数据10</li>
      <li>这是一对数据11</li>
      <li>这是一对数据12</li>
      <li>这是一对数据13</li>
      <li>这是一对数据14</li>
      <li>这是一对数据15</li>
      <li>这是一对数据16</li>
      <li>这是一对数据17</li>
      <li>这是一对数据18</li>
      <li>这是一对数据19</li>
      <li>这是一对数据20</li>
      <li>这是一对数据21</li>
      <li>这是一对数据22</li>
      <li>这是一对数据23</li>
      <li>这是一对数据24</li>
      <li>这是一对数据25</li>
      <li>这是一对数据26</li>
      <li>这是一对数据27</li>
      <li>这是一对数据28</li>
      <li>这是一对数据29</li>
      <li>这是一对数据30</li>
      <li>这是一对数据31</li>
      <li>这是一对数据32</li>
      <li>这是一对数据33</li>
      <li>这是一对数据34</li>
      <li>这是一对数据35</li>
      <li>这是一对数据36</li>
      <li>这是一对数据37</li>
      <li>这是一对数据38</li>
      <li>这是一对数据39</li>
      <li>这是一对数据40</li>
      <li>这是一对数据41</li>
      <li>这是一对数据42</li>
      <li>这是一对数据43</li>
      <li>这是一对数据44</li>
      <li>这是一对数据45</li>
      <li>这是一对数据46</li>
      <li>这是一对数据47</li>
      <li>这是一对数据48</li>
      <li>这是一对数据49</li>
      <li>这是一对数据50</li>
      <li>这是一对数据51</li>
      <li>这是一对数据52</li>
      <li>这是一对数据53</li>
      <li>这是一对数据54</li>
      <li>这是一对数据55</li>
      <li>这是一对数据56</li>
      <li>这是一对数据57</li>
      <li>这是一对数据58</li>
      <li>这是一对数据59</li>
      <li>这是一对数据60</li>
      <li>这是一对数据61</li>
      <li>这是一对数据62</li>
      <li>这是一对数据63</li>
      <li>这是一对数据64</li>
      <li>这是一对数据65</li>
      <li>这是一对数据66</li>
      <li>这是一对数据67</li>
      <li>这是一对数据68</li>
      <li>这是一对数据69</li>
      <li>这是一对数据70</li>
      <li>这是一对数据71</li>
      <li>这是一对数据72</li>
      <li>这是一对数据73</li>
      <li>这是一对数据74</li>
      <li>这是一对数据75</li>
      <li>这是一对数据76</li>
      <li>这是一对数据77</li>
      <li>这是一对数据78</li>
      <li>这是一对数据79</li>
      <li>这是一对数据80</li>
      <li>这是一对数据81</li>
      <li>这是一对数据82</li>
      <li>这是一对数据83</li>
      <li>这是一对数据84</li>
      <li>这是一对数据85</li>
      <li>这是一对数据86</li>
      <li>这是一对数据87</li>
      <li>这是一对数据88</li>
      <li>这是一对数据89</li>
      <li>这是一对数据90</li>
      <li>这是一对数据91</li>
      <li>这是一对数据92</li>
      <li>这是一对数据93</li>
      <li>这是一对数据94</li>
      <li>这是一对数据95</li>
      <li>这是一对数据96</li>
      <li>这是一对数据97</li>
      <li>这是一对数据98</li>
      <li>这是一对数据99</li>
      <li>这是一对数据100</li>
    </ul>
  </div>
  <!-- 这里需要注意的是，需要引入带有插件的better-scroll，否则无法使用pullingup -->
  <script src="https://unpkg.com/better-scroll@latest/dist/better-scroll.js"></script>
  <script>
    //默认情况下无法实时监听滚动位置。
    // const bscroll = new BScroll(document.querySelector('.wrapper'))
    //probeType参数：0 1都是不侦测。
    //2:手指在屏幕上滚动时侦测。
    //3:只要在滚动就侦测
    //存在一个问题，为什么这里不能直接new 一个BScroll呢？
    let bscroll = BetterScroll.createBScroll('.wrapper',{
      probeType:3,
      click:true,
      pullUpLoad:true,
    })

    // bscroll.on('scroll',(pos)=> {
    //   console.log(pos);
    // })
    bscroll.on('pullingUp',()=> {
      console.log('上拉加载更多哦');
      setTimeout(() => {
      bscroll.finishPullUp()
        
      }, 3000);
    })
  
    const btn = document.querySelector('span')
    btn.onclick = function() {
      console.log(11);
    }
  </script>
</body>
</html>